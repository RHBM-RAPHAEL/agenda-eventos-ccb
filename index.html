<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agenda de Eventos</title>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>

</head>
<body>

  <h1>Agenda de Eventos</h1>

  <form id="eventoForm">
    <input type="text" id="titulo" placeholder="Título do Evento" required><br><br>
    <input type="date" id="data" required><br><br>
    <button type="submit">Salvar Evento</button>
  </form>

  <h2>Lista de Eventos:</h2>
  <ul id="eventosList"></ul>

  <script>
    // Configuração do seu Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCe3EqDWGXF9cR8mzCrOb_yryaWzsCuRaM",
      authDomain: "agenda-eventos-ccb.firebaseapp.com",
      projectId: "agenda-eventos-ccb",
      storageBucket: "agenda-eventos-ccb.firebasestorage.app",
      messagingSenderId: "325923477189",
      appId: "1:325923477189:web:1aba52c8119d290338c2ac",
      measurementId: "G-PDTYLHH85J"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);

    // Referência ao banco de dados
    const database = firebase.database();

    // Formulário para adicionar eventos
    const eventoForm = document.getElementById('eventoForm');
    const eventosList = document.getElementById('eventosList');

    eventoForm.addEventListener('submit', function(event) {
      event.preventDefault(); // Evita o recarregamento da página

      const titulo = document.getElementById('titulo').value;
      const data = document.getElementById('data').value;

      // Salva no Firebase
      database.ref('eventos').push({
        titulo: titulo,
        data: data
      });

      // Limpar o formulário
      eventoForm.reset();
    });

    // Função para mostrar eventos cadastrados
    database.ref('eventos').on('value', function(snapshot) {
      eventosList.innerHTML = ''; // Limpar lista

      snapshot.forEach(function(childSnapshot) {
        const evento = childSnapshot.val();
        const li = document.createElement('li');
        li.textContent = `${evento.titulo} - ${evento.data}`;
        eventosList.appendChild(li);
      });
    });

  </script>

</body>
</html>
